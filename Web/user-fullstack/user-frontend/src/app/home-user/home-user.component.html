<!DOCTYPE html>
<html>

<body>
    <h1>AddUser</h1>

    <div class="card">
      <form novalidate #loginform='ngForm' (ngSubmit)="addUser(loginform)">
      <div>
          <label for="Name"> Name</label>
          <input type="text" [(ngModel)]=" model.name" name="name" required>
      </div>
      <div>
        <label for="Age">Age</label>
          <input type="number" [(ngModel)]="model.age" name="age">
      </div>
      <div>
        <label for="Salary">Salary</label>
          <input type="number" [(ngModel)]="model.salary" name="salary">
      </div>
      <button [disabled]=" loginform.invalid"  type="submit">Submit</button>
      <button id="resetb" type="reset">Reset </button>
      </form>
    </div>

    <h1>Users List</h1>
    <table>
        <thead>
            <th> ID </th>
            <th>Name</th>
            <th>Age</th>
            <th>Salary</th>
        </thead>
        <tbody>
            <tr *ngFor="let user of users">
                <td>{{user.id}}</td>
                <td>{{user.name}}</td>

                <td>{{user.age}}</td>
                <td>{{user.salary}}</td>
                <td> 
                    <button  (click)="toggle()"> update</button>

                    <form  *ngIf="showForm" novalidate #loginform='ngForm' (ngSubmit)="editUser(loginform.value) ">
                        <input type="hidden" name="id" [(ngModel)]="user.id">
                        <div>
                            <label for="Name"> Name</label>
                            <input type="text" [(ngModel)]=" user.name" name="name" required>
                        </div>
                        <div>
                          <label for="Age">Age</label>
                            <input type="number" [(ngModel)]="user.age" name="age">
                        </div>
                        <div>
                          <label for="Salary">Salary</label>
                            <input type="number" [(ngModel)]="user.salary" name="salary">
                        </div>
                        <button   type="submit">Submit</button>
                        </form>
                    <button id="deleteb" (click)="deleteUser(user)">Delete</button>
                </td>

            </tr>
        </tbody>
</table>
</body>
</html>
